"0","#Choose values of parameters"
"0","numParticipants = 20"
"0","SOA <- c(-0.4,-0.2,-0.05,0.05,0.2,0.4)"
"0","numTrials <- 30"
"0",""
"0","#Can change the mean weight and sd for the participants"
"0","wInt = 10"
"0","wExt = 7"
"0","sdInt = 1"
"0","sdExt = 1"
"0",""
"0","#Choose how much of a change should be expected for each condition. 1 indicates this value will not change across conditions"
"0","taskInt = 1"
"0","taskExt = 1.5"
"0","sdtaskInt = 0.3"
"0","sdtaskExt = 0.3"
"0",""
"0","#Creates the participant data. This first creates the dataframe with all the rows. Then selects weight parameters for each participant, and then calculates the hypothesis based on those chosen parameters. "
"0","alldata1 <- expand.grid(Participant = c(1:numParticipants),"
"0","                  Hands = c('Crossed','Uncrossed'),"
"0","                  Condition = c('A','B'),"
"0","                  SOA = SOA,"
"0","                  Trial = c(1:numTrials)) %>% "
"0","  nest(data = -c(Participant)) %>% "
"0","  mutate(wInt = rnorm(numParticipants, wInt, sdInt), wExt = rnorm(numParticipants, wExt, sdExt),"
"0","         taskInt = rnorm(1, taskInt, sdtaskInt), taskExt = rnorm(1, taskExt, sdtaskExt)) %>% "
"0","  unnest(cols = c(data)) %>% "
"0","  mutate(wInt = ifelse(Condition == ""A"", wInt, wInt*taskInt), wExt = ifelse(Condition == ""A"", wExt, wExt*taskExt),"
"0","         p = genHypothesisMLE(wInt, wExt, Hands, SOA, numTrials))"
"0","alldata1$Actual <-  rbinom(nrow(alldata1),1,alldata1$p)"
"0",""
"0",""
"0","#save the created participant data"
"0","if(saveData){"
"0","  write.table(alldata1, paste(path,""Raw Data "",time,"".txt"", sep = """"), sep = '\t', row.names = F, col.names = T)"
"0","}"
